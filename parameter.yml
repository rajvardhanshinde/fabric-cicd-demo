# parameter.yml
# Rebind TMDL Sql.Database connections from DEV â†’ PROD during main deploys.

find_replace:
  - environments: ["PROD"]
    file_glob: "**/*.SemanticModel/**/*.tmdl"
    replacements:
      # Swap SQL endpoint hostname
      - find: 'Sql.Database("${FABRIC_DEV_SQL_HOST}"'
        replace: 'Sql.Database("${FABRIC_PROD_SQL_HOST}"'

      # Swap SQL endpoint Id (second argument)
      - find: '"${FABRIC_DEV_SQL_ID}")'
        replace: '"${FABRIC_PROD_SQL_ID}")'
